<section class="table-container">
  <div class="table-search-area">
    <div class="table-search">
      <div class="input-group">
        <input type="text" class="form-control text-search" placeholder="输入搜索内容..." [(ngModel)]="searchTerm">
        <span class="input-group-btn">
          <button class="btn btn-default top-search-btn" type="button" (click)="search()"><span class="glyphicon glyphicon-search"></span></button>
        </span>
      </div>
    </div>
  </div>
  <div class="table-action-area">
    <table-toolbar (previous)="gotoPage($event)" (next)="gotoPage($event)" (goto)="gotoPage($event)" (create)="createNewItem()"
      (refresh)="refreshTable()" (export)="exportTable()" [current]="currentPage" [isPreviousValid]="currentPage > 1" [isNextValid]="currentPage < totalPages">
      <div addTemplate>
        <section>
          <form name="newProject" method="post" role="form" data-toggle="validator">
            <div class="form-group">
              <input type="text" class="form-control" id="pname" name="pname" placeholder="项目名称" data-error="项目名称不能为空"
                required>
              <div class="help-block with-errors"></div>
            </div>
            <div class="form-group">
              <select class="form-control" ng-model="newP.plead" data-error="项目名称不能为空" required>
                  <option value="" selected="selected">--负责人--</option>
                </select>
            </div>
            <div class="form-group">
              <select class="form-control" ng-model="newP.pstate" data-error="项目名称不能为空" required>
                  <option value="">--请选择项目状态--</option>
                  <option value="1">未开工</option>
                  <option value="2">在建</option>
                  <option value="3">竣工</option>
                </select>
            </div>
          </form>
        </section>
      </div>
    </table-toolbar>
  </div>
  <paginated-table [items]="projects" [fields]="'name:项目名称|manager:负责人|address:工地|state:项目状态|createdAt:创建时间|updatedAt:更新时间'"
    [busy]="isBusy" [hasData]="!noData">
  </paginated-table>
</section>